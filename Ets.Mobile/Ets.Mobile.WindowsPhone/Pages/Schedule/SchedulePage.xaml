<Page xmlns:Schedule="using:Syncfusion.UI.Xaml.Schedule" 
    x:Class="Ets.Mobile.Pages.Schedule.SchedulePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Ets.Mobile.Pages.Schedule"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:ReactiveUI.Xaml.Controls"
    Background="Black"
    mc:Ignorable="d">

    <!--<s:Schedule x:Name="Schedule" />-->

    <Grid Background="Black">
        <controls:ReactivePresenter UseDialogForErrors="False"
                            PresenterSource="{Binding}"
                            DefaultErrorMessage="Make sure you're connected to a Wi-Fi or cellular network and try again."
                            >
            <controls:ReactivePresenter.EmptyTemplate>
                <DataTemplate>
                    <TextBlock x:Uid="GradesEmptyUid" Text="Il n'y a pas de résultats à afficher" Foreground="#a6a6a6" FontSize="24" FontWeight="Thin" FontFamily="Segoe WP"/>
                </DataTemplate>
            </controls:ReactivePresenter.EmptyTemplate>
            <controls:ReactivePresenter.RefreshingTemplate>
                <DataTemplate>
                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Opacity="0.7">
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock FontSize="30" HorizontalAlignment="Center" VerticalAlignment="Center" Text="loading" Style="{StaticResource EtsTextBlockMainColor3}" />
                            <ProgressBar IsIndeterminate="True" Foreground="#a6a6a6"  />
                        </StackPanel>
                    </Grid>
                </DataTemplate>
            </controls:ReactivePresenter.RefreshingTemplate>
            <controls:ReactivePresenter.ValueTemplate>
                <DataTemplate>
                    <Grid>
                        <Schedule:SfSchedule ItemsSource="{Binding}" AllowEditing="True" ScheduleType="Week">
                        <Schedule:SfSchedule.AppointmentMapping>
                            <Schedule:ScheduleAppointmentMapping SubjectMapping="ActivityName" 
                                                                 StartTimeMapping="StartDate"
                                                                 LocationMapping="Location"
                                                                 AppointmentBackgroundMapping="Brush"
                                                                 EndTimeMapping="EndDate">

                            </Schedule:ScheduleAppointmentMapping>
                        </Schedule:SfSchedule.AppointmentMapping>
                    </Schedule:SfSchedule>
                    </Grid>
                    
                </DataTemplate>
            </controls:ReactivePresenter.ValueTemplate>
        </controls:ReactivePresenter>
        
    </Grid>
    <Page.BottomAppBar>
        <CommandBar ClosedDisplayMode="Compact" IsOpen="False" Background="White" Foreground="{StaticResource EtsRedHighBrush}" Opacity="0.7">
            <CommandBar.PrimaryCommands>
                <AppBarButton x:Name="RefreshSchedule" Icon="Refresh" Label="Refresh" />
            </CommandBar.PrimaryCommands>
        </CommandBar>
    </Page.BottomAppBar>
</Page>
